// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
	"github.com/speakeasy/terraform-provider-terraform/internal/sdk/pkg/utils"
	"time"
)

// Status - The status of the connector sync.
type Status string

const (
	StatusSyncStatusUnspecified Status = "SYNC_STATUS_UNSPECIFIED"
	StatusSyncStatusRunning     Status = "SYNC_STATUS_RUNNING"
	StatusSyncStatusDone        Status = "SYNC_STATUS_DONE"
	StatusSyncStatusError       Status = "SYNC_STATUS_ERROR"
)

func (e Status) ToPointer() *Status {
	return &e
}

func (e *Status) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "SYNC_STATUS_UNSPECIFIED":
		fallthrough
	case "SYNC_STATUS_RUNNING":
		fallthrough
	case "SYNC_STATUS_DONE":
		fallthrough
	case "SYNC_STATUS_ERROR":
		*e = Status(v)
		return nil
	default:
		return fmt.Errorf("invalid value for Status: %v", v)
	}
}

// ConnectorStatus - The status field on the connector is used to track the status of the connectors sync, and when syncing last started, completed, or caused the connector to update.
type ConnectorStatus struct {
	CompletedAt *time.Time `json:"completedAt,omitempty"`
	// The last error encountered by the connector.
	LastError *string    `json:"lastError,omitempty"`
	StartedAt *time.Time `json:"startedAt,omitempty"`
	// The status of the connector sync.
	Status    *Status    `json:"status,omitempty"`
	UpdatedAt *time.Time `json:"updatedAt,omitempty"`
}

func (c ConnectorStatus) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(c, "", false)
}

func (c *ConnectorStatus) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &c, "", false, false); err != nil {
		return err
	}
	return nil
}

func (o *ConnectorStatus) GetCompletedAt() *time.Time {
	if o == nil {
		return nil
	}
	return o.CompletedAt
}

func (o *ConnectorStatus) GetLastError() *string {
	if o == nil {
		return nil
	}
	return o.LastError
}

func (o *ConnectorStatus) GetStartedAt() *time.Time {
	if o == nil {
		return nil
	}
	return o.StartedAt
}

func (o *ConnectorStatus) GetStatus() *Status {
	if o == nil {
		return nil
	}
	return o.Status
}

func (o *ConnectorStatus) GetUpdatedAt() *time.Time {
	if o == nil {
		return nil
	}
	return o.UpdatedAt
}
